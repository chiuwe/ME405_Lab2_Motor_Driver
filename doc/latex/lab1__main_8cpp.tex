\hypertarget{lab1__main_8cpp}{\section{lab1\+\_\+main.\+cpp File Reference}
\label{lab1__main_8cpp}\index{lab1\+\_\+main.\+cpp@{lab1\+\_\+main.\+cpp}}
}
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include $<$avr/wdt.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}Free\+R\+T\+O\+S.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}queue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}croutine.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rs232int.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}time\+\_\+stamp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}frt\+\_\+task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}frt\+\_\+text\+\_\+queue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}frt\+\_\+queue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}frt\+\_\+shared\+\_\+data.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}shares.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task\+\_\+brightness.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task\+\_\+user.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
frt\+\_\+text\+\_\+queue \hyperlink{lab1__main_8cpp_a4c623cb3c8a60e67138367480c1ee0d2}{print\+\_\+ser\+\_\+queue} (32, N\+U\+L\+L, 10)
\item 
int \hyperlink{lab1__main_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{main} (void)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file contains the \hyperlink{lab1__main_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{main()} code for a program which runs the M\+E405 board for M\+E405 lab 1. This program currently uses obfuscated code to use an A/\+D converter to convert an analog signal into an L\+E\+D brightness via pulse width modulation. {\bfseries This} {\bfseries comment} {\bfseries is} {\bfseries quite} {\bfseries messed} {\bfseries up} {\bfseries and} {\bfseries the} {\bfseries student} {\bfseries should} {\bfseries fix} {\bfseries it} {\bfseries so} {\bfseries that} {\bfseries it} {\bfseries accurately} {\bfseries reflects} {\bfseries the} {\bfseries function} {\bfseries of} {\bfseries the} {\bfseries program} {\bfseries which} {\bfseries is} {\bfseries handed} {\bfseries in} {\bfseries for} {\bfseries this} {\bfseries assignment}.

Revisions\+: \begin{DoxyItemize}
\item 09-\/30-\/2012 J\+R\+R Original file was a one-\/file demonstration with two tasks \item 10-\/05-\/2012 J\+R\+R Split into multiple files, one for each task plus a main one \item 10-\/30-\/2012 J\+R\+R A hopefully somewhat stable version with global queue pointers and the new operator used for most memory allocation \item 11-\/04-\/2012 J\+R\+R Free\+R\+T\+O\+S Swoop demo program changed to a sweet test suite \item 01-\/05-\/2012 J\+R\+R Program reconfigured as M\+E405 Lab 1 starting point \item 03-\/28-\/2014 J\+R\+R Pointers to shared variables and queues changed to references\end{DoxyItemize}
License\+: This file is copyright 2012 by J\+R Ridgely and released under the Lesser G\+N\+U Public License, version 2. It intended for educational use only, but its use is not limited thereto. 

Definition in file \hyperlink{lab1__main_8cpp_source}{lab1\+\_\+main.\+cpp}.



\subsection{Function Documentation}
\hypertarget{lab1__main_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{\index{lab1\+\_\+main.\+cpp@{lab1\+\_\+main.\+cpp}!main@{main}}
\index{main@{main}!lab1\+\_\+main.\+cpp@{lab1\+\_\+main.\+cpp}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{lab1__main_8cpp_a840291bc02cba5474a4cb46a9b9566fe}
The main function sets up the R\+T\+O\+S. Some test tasks are created. Then the scheduler is started up; the scheduler runs until power is turned off or there's a reset. \begin{DoxyReturn}{Returns}
This is a real-\/time microcontroller program which doesn't return. Ever. 
\end{DoxyReturn}


Definition at line 80 of file lab1\+\_\+main.\+cpp.

\hypertarget{lab1__main_8cpp_a4c623cb3c8a60e67138367480c1ee0d2}{\index{lab1\+\_\+main.\+cpp@{lab1\+\_\+main.\+cpp}!print\+\_\+ser\+\_\+queue@{print\+\_\+ser\+\_\+queue}}
\index{print\+\_\+ser\+\_\+queue@{print\+\_\+ser\+\_\+queue}!lab1\+\_\+main.\+cpp@{lab1\+\_\+main.\+cpp}}
\subsubsection[{print\+\_\+ser\+\_\+queue}]{\setlength{\rightskip}{0pt plus 5cm}frt\+\_\+text\+\_\+queue print\+\_\+ser\+\_\+queue (
\begin{DoxyParamCaption}
\item[{32}]{, }
\item[{N\+U\+L\+L}]{, }
\item[{10}]{}
\end{DoxyParamCaption}
)}}\label{lab1__main_8cpp_a4c623cb3c8a60e67138367480c1ee0d2}
This is a print queue, descended from {\ttfamily emstream} so that things can be printed into the queue using the \char`\"{}$<$$<$\char`\"{} operator and they'll come out the other end as a stream of characters. It's used by tasks that send things to the user interface task to be printed. 